<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<th:block th:include="fragments/header :: header"/>
	
	<!-- Page specific plugins -->
	<!-- Charts -->
	<!--[if lt IE 9]>
		<script type="text/javascript" th:src="@{/plugins/flot/excanvas.min.js}"></script>
	<![endif]-->
	<script type="text/javascript" th:src="@{/plugins/sparkline/jquery.sparkline.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/flot/jquery.flot.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/flot/jquery.flot.tooltip.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/flot/jquery.flot.resize.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/flot/jquery.flot.time.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/flot/jquery.flot.growraf.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/easy-pie-chart/jquery.easy-pie-chart.min.js}"></script>

	<script type="text/javascript" th:src="@{/plugins/daterangepicker/moment.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/daterangepicker/daterangepicker.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/blockui/jquery.blockUI.min.js}"></script>

	<script type="text/javascript" th:src="@{/plugins/fullcalendar/fullcalendar.min.js}"></script>

	<!-- websocket -->
	<script type="text/javascript" th:src="@{/assets/js/sockjs-0.3.4.js}"></script>
	<script type="text/javascript" th:src="@{/assets/js/stomp.js}"></script>
	<!-- fin websocket -->

	<!-- Noty -->
	<script type="text/javascript" th:src="@{/plugins/noty/jquery.noty.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/noty/layouts/top.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/noty/themes/default.js}"></script>

	<!-- Forms -->
	<script type="text/javascript" th:src="@{/plugins/uniform/jquery.uniform.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/select2/select2.min.js}"></script>
	
	<!-- Form Validation -->
	<script type="text/javascript" th:src="@{/plugins/validation/jquery.validate.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/validation/additional-methods.min.js}"></script>

	<!-- Google Maps -->
	<script src="http://maps.google.com/maps/api/js?key=AIzaSyAXjyHnMFPww39eDuWKLkkiDPHmWKpJmJw" type="text/javascript"></script>
	<script type="text/javascript" th:src="@{/plugins/gmaps/gmaps.min.js}"></script>
	
	<!-- DataTables -->
	<script type="text/javascript" th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/datatables/tabletools/TableTools.min.js}"></script> <!-- optional -->
	<script type="text/javascript" th:src="@{/plugins/datatables/colvis/ColVis.min.js}"></script> <!-- optional -->
	<script type="text/javascript" th:src="@{/plugins/datatables/DT_bootstrap.js}"></script>
	
	<!-- Impl JS -->
	<script type="text/javascript" th:src="@{/assets/js/dashboard.js}"></script>
	<link rel="stylesheet" type="text/css" th:href="@{/assets/css/Datatable/jquery.dataTables.min.css}"></link>
	<script type="text/javascript" charset="utf8" th:src="@{/assets/js/Datatable/jquery.dataTables.min.js}"></script>
</head>

<body>
	hh
	<!-- 
	<script type="text/javascript">
		var ws;
		var stompClient;
		
		function disconnect() {
            if (stompClient != null) {
                stompClient.disconnect();
            }
            setConnected(false);
            console.log("Disconnected");
        }
		
		function sendName() {
            stompClient.send("/topic/update", {}, JSON.stringify({ 'temperature': '1', 'nodo':'a' }));
        }
		
		function setConnected(connected) {
            document.getElementById('estadoWsock').style.display = connected ? 'block' : 'none';
        }
		
		function connect() {
            var socket = new SockJS('http://localhost:9000/temperature');
            stompClient = Stomp.over(socket);
            stompClient.connect({}, function(frame) {
                console.log('Connected: ' + frame);
                stompClient.subscribe('/topic/update', function(greeting){
                    console.log(JSON.parse(greeting.body).content);
                });
                setConnected(true);
                sendName();
            });
        }
	</script> 
	-->
	<header th:replace="fragments/contentHeader :: contentHeader"></header> 

	<div id="container">
		<div th:replace="fragments/contentMenu :: contentMenu"></div>

		<div id="content">
			<div class="container">
				<!-- Breadcrumbs line -->
				<div class="crumbs">
					<ul id="breadcrumbs" class="breadcrumb">
						<li class="current">
							<i class="icon-home"></i>
							<a th:href="@{/dashboard}">Dashboard</a>
						</li>
					</ul>

					<ul class="crumb-buttons">
						
					</ul>
				</div>
				<!-- /Breadcrumbs line -->

				<!--=== Page Header ===-->
				<div class="page-header">
					<div class="page-title">
						<h3>Tablero de control</h3>
					</div>
					<!-- Page Stats -->
					<ul class="page-stats">
						<li>
							
						</li>
						<li>
							
						</li>
					</ul>
					<!-- /Page Stats -->
				</div>
				<!-- /Page Header -->

				<!--=== Page Content ===-->
				<!--=== Statboxes ===-->
				<div class="row row-bg"> <!-- .row-bg -->
					<div class="col-sm-6 col-md-3">
						<div class="statbox widget box box-shadow">
							<div class="widget-content">
								<div class="visual cyan">
									<div class="statbox-sparkline">30,20,15,30,22,25,26,30,27</div>
								</div>
								<div class="title">Clients</div>
								<div class="value">4 501</div>
								<a class="more" href="javascript:void(0);">View More <i class="pull-right icon-angle-right"></i></a>
							</div>
						</div> <!-- /.smallstat -->
					</div> <!-- /.col-md-3 -->

					<div class="col-sm-6 col-md-3">
						<div class="statbox widget box box-shadow">
							<div class="widget-content">
								<div class="visual green">
									<div class="statbox-sparkline">20,30,30,29,22,15,20,30,32</div>
								</div>
								<div class="title">Feedbacks</div>
								<div class="value">714</div>
								<a class="more" href="javascript:void(0);">View More <i class="pull-right icon-angle-right"></i></a>
							</div>
						</div> <!-- /.smallstat -->
					</div> <!-- /.col-md-3 -->

					<div class="col-sm-6 col-md-3 hidden-xs">
						<div class="statbox widget box box-shadow">
							<div class="widget-content">
								<div class="visual yellow">
									<i class="icon-dollar"></i>
								</div>
								<div class="title">Total Profit</div>
								<div class="value">$42,512.61</div>
								<a class="more" href="javascript:void(0);">View More <i class="pull-right icon-angle-right"></i></a>
							</div>
						</div> <!-- /.smallstat -->
					</div> <!-- /.col-md-3 -->

					<div class="col-sm-6 col-md-3 hidden-xs">
						<div class="statbox widget box box-shadow">
							<div class="widget-content">
								<div class="visual red">
									<i class="icon-user"></i>
								</div>
								<div class="title">Visitors</div>
								<div class="value">2 521 719</div>
								<a class="more" href="javascript:void(0);">View More <i class="pull-right icon-angle-right"></i></a>
							</div>
						</div> <!-- /.smallstat -->
					</div> <!-- /.col-md-3 -->
				</div> <!-- /.row -->
				<!-- /Statboxes -->

				<!--=== Markers ===-->
				<div class="row">
					<div class="col-md-12">
						<div class="widget">
							<div class="widget-header">
								<h4><i class="icon-reorder"></i> Luminarias</h4>

								<!-- Toolbar -->
								<div class="toolbar no-padding">
									<div class="btn-group">
										<span class="btn btn-xs widget-collapse"><i class="icon-angle-down"></i></span>
									</div>
								</div>
								<!-- /Toolbar -->
							</div>
							<div class="widget-content">
								<div class="row">
									<div class="col-xs-12">
										<div class="crumbs">
											<ul id="mapsBreadcrumbs" class="breadcrumb">
												
											</ul>
										</div>
									</div>
									<div class="col-xs-12">
										<div id="gmap_markers" class="gmaps"></div>	
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- /Markers -->
				
				<!-- Detalle de luminarias -->
				<div class="row">
					<div class="col-xs-12" id="localidadTableDiv">
					
					</div>
					<div class="col-xs-12" id="nodoTableDiv">
						
					</div>
					<div class="col-xs-12">
						<table id="lumiTable" class="display responsive no-wrap" cellspacing="0" width="100%">
					        <thead>
					            <tr>
					                <th>Identificador</th>
					                <th>Ubicación</th>
					                <th>Intensidad</th>
					                <th>Descripción</th>
					                <th>Temperatura del led</th>
					                <th>Temperatura de la luminaria</th>
					                <th>Fecha de último registro</th>
					                <th></th>
					            </tr>
					        </thead>
					        <tfoot>
					            <tr>
					                <th>Identificador</th>
					                <th>Ubicación</th>
					                <th>Intensidad</th>
					                <th>Descripción</th>
					                <th>Temperatura del led</th>
					                <th>Temperatura de la luminaria</th>
					                <th>Fecha de último registro</th>
					                <th></th>
					            </tr>
					        </tfoot>
					        <tbody></tbody>
					    </table>
					</div>
					<!-- Modal dialog -->
					<div class="modal fade" id="localidadPopupPanel">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title">Localidad <span id="localidadDescPopupPanel"></span></h4>
								</div>
								<div class="modal-body">
								</div>
							</div>
						</div>
					</div>
					<div class="modal fade" id="nodoPopupPanel">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title">Nodo <span id="nodoDescPopupPanel"></span></h4>
								</div>
								<div class="modal-body">
								</div>
							</div>
						</div>
					</div>
					<div class="modal fade" id="lumiPopupPanel">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title">Luminaria <span id="hightLow"></span></h4>
								</div>
								<div class="modal-body">
									<div class="row">
										<div class="col-xs-6">
											<h3>Temperatura del Led</h3>
											<div class="progress" id="lumiTempLed">
												<div class="progress-bar progress-bar-success" style="width: 60%"></div>
												<div class="progress-bar progress-bar-warning" style="width: 5%"></div>
												<div class="progress-bar progress-bar-danger" style="width: 10%"></div>
											</div>
										</div>
										<div class="col-xs-6">
											<h3>Temperatura de la luminaria</h3>
											<div class="progress" id="lumiTempLumi">
												<div class="progress-bar progress-bar-success" style="width: 60%"></div>
												<div class="progress-bar progress-bar-warning" style="width: 5%"></div>
												<div class="progress-bar progress-bar-danger" style="width: 10%"></div>
											</div>
										</div>
									</div>
									<div>
										<h3>Intensidad: <span id="lumiIntensidad"></span></h3>
										<div id="lumiIntensidadSlider"></div>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
					</div><!-- /.modal -->
				</div>
				<!-- /Detalle de luminarias -->

				<!-- /Page Content -->
			</div>
			<!-- /.container -->
		</div>
	</div>
</body>
</html>